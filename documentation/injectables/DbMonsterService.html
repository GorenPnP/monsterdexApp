<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Monsterdex</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Monsterdex</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Eingeben zur Suche"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>DbMonsterService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>Datei</h3>
        </p>
        <p class="comment">
            <code>src/app/services/db-monster.service.ts</code>
        </p>

            <p class="comment">
                <h3>Beschreibung</h3>
            </p>
            <p class="comment">
                <p>db service for monsters and related topics</p>

            </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#allMonsters">allMonsters</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#db">db</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#dbReady">dbReady</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#lastMonster">lastMonster</a>
                            </li>
                            <li>
                                <a href="#LIMIT">LIMIT</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#monsters">monsters</a>
                            </li>
                            <li>
                                <a href="#NUM_MONSTER">NUM_MONSTER</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#typSearchList">typSearchList</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#wordSearchList">wordSearchList</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methoden</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#combineSearchLists">combineSearchLists</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#dataToMonster">dataToMonster</a>
                            </li>
                            <li>
                                <a href="#defaultMonster">defaultMonster</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findByType">findByType</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findByWord">findByWord</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAehnlicheFormen">getAehnlicheFormen</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllSortedByRang">getAllSortedByRang</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAnchestors">getAnchestors</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#getAttacken">getAttacken</a>
                            </li>
                            <li>
                                <a href="#getDatabaseState">getDatabaseState</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getEvolution">getEvolution</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getGegenteilmonster">getGegenteilmonster</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMonster">getMonster</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMonsters">getMonsters</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMonstersByAttacke">getMonstersByAttacke</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#getMonstersByIds">getMonstersByIds</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMonstersByList">getMonstersByList</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getPredecessors">getPredecessors</a>
                            </li>
                            <li>
                                <a href="#observeMonster">observeMonster</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#typIcons">typIcons</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateMonsters">updateMonsters</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Konstruktor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(databaseService: <a href="../injectables/DatabaseService.html">DatabaseService</a>, messageService: <a href="../injectables/MessageService.html">MessageService</a>, db_typen: <a href="../injectables/DbTypenService.html">DbTypenService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Definiert in <a href="" data-line="58" class="link-to-prism">src/app/services/db-monster.service.ts:58</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>initialize service</p>
</div>
                            <div>
                                    <b>Parameter :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Beschreibung</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>databaseService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DatabaseService.html" target="_self" >DatabaseService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            Nein
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>main db service to retrieve the db</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>messageService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MessageService.html" target="_self" >MessageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            Nein
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>to communicate to the user</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>db_typen</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DbTypenService.html" target="_self" >DbTypenService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            Nein
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>db for typs</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methoden
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="combineSearchLists"></a>
                    <span class="name">
                        <b>
                            combineSearchLists
                        </b>
                        <a href="#combineSearchLists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>combineSearchLists()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="334"
                            class="link-to-prism">src/app/services/db-monster.service.ts:334</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>combine results from both filtering methods, use their intersection</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        <p>void</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dataToMonster"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                            dataToMonster
                        </b>
                        <a href="#dataToMonster"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>dataToMonster(data)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="385"
                            class="link-to-prism">src/app/services/db-monster.service.ts:385</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>convert db data result from select query with monsters to list of monster instances</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>data</td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>db data</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;Monster[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="defaultMonster"></a>
                    <span class="name">
                        <b>
                            defaultMonster
                        </b>
                        <a href="#defaultMonster"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>defaultMonster()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="424"
                            class="link-to-prism">src/app/services/db-monster.service.ts:424</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get dummy monster</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Monster</a></code>

                    </div>
                    <div class="io-description">
                        <p>Monster</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findByType"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            findByType
                        </b>
                        <a href="#findByType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findByType(typeIdList: number[], operandIsOr: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, callCombineAfterwards: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="293"
                            class="link-to-prism">src/app/services/db-monster.service.ts:293</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>filter monsters by typs and store them in typSearchList.
If typeIdList is empty, end the search</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>typeIdList</td>
                                    <td>
                                            <code>number[]</code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>list of type ids</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>operandIsOr</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>if true connect via OR (one type is sufficient), if false with AND (need all types)</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>callCombineAfterwards</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                    <td>
                                        <p>if true combine search result with that of word search, if false not</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise<void></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findByWord"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            findByWord
                        </b>
                        <a href="#findByWord"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findByWord(nameValue: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, callCombineAfterwards: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="258"
                            class="link-to-prism">src/app/services/db-monster.service.ts:258</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>filter monsters by name or id and store them in wordSearchList.
If nameValue is empty, end the search</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nameValue</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>substring of a monsters&#39; name or an id</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>callCombineAfterwards</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                    <td>
                                        <p>if true combine search result with that of type search, if false not</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise<void></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAehnlicheFormen"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getAehnlicheFormen
                        </b>
                        <a href="#getAehnlicheFormen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAehnlicheFormen(monsId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="485"
                            class="link-to-prism">src/app/services/db-monster.service.ts:485</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get all ids of monsters to which the monster with id monsId can change into by will</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monsId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the monster</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;number[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;number[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllSortedByRang"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getAllSortedByRang
                        </b>
                        <a href="#getAllSortedByRang"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllSortedByRang(sortingIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="572"
                            class="link-to-prism">src/app/services/db-monster.service.ts:572</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sort all monsters by their rang (asc or desc)</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sortingIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>=0, end sorting, =1 asc, 0&quot; desc</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise<void></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAnchestors"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getAnchestors
                        </b>
                        <a href="#getAnchestors"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAnchestors(monId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="530"
                            class="link-to-prism">src/app/services/db-monster.service.ts:530</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get all direct ancestors to monster with id monId</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the monster</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;Monster[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAttacken"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                            getAttacken
                        </b>
                        <a href="#getAttacken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAttacken(monId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="366"
                            class="link-to-prism">src/app/services/db-monster.service.ts:366</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>recieve ids of a monster&#39;s attacks</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>a monster&#39;s id to get attacks to</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;number[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise<number></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDatabaseState"></a>
                    <span class="name">
                        <b>
                            getDatabaseState
                        </b>
                        <a href="#getDatabaseState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDatabaseState()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="116"
                            class="link-to-prism">src/app/services/db-monster.service.ts:116</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>communicate if this service is done initializing</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Observable<boolean></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEvolution"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getEvolution
                        </b>
                        <a href="#getEvolution"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getEvolution(monId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="519"
                            class="link-to-prism">src/app/services/db-monster.service.ts:519</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get direct anchestors and predecessors of monster with id monId</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the monster</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;[][]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;Monster[][]&gt;  ( [[list of anchestors], [list of predecessors]]  )</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getGegenteilmonster"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getGegenteilmonster
                        </b>
                        <a href="#getGegenteilmonster"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getGegenteilmonster(monsId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="502"
                            class="link-to-prism">src/app/services/db-monster.service.ts:502</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get all ids of monsters to which the monster with id monsId poses the opposite</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monsId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the monster</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;number[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;number[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMonster"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getMonster
                        </b>
                        <a href="#getMonster"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMonster(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="211"
                            class="link-to-prism">src/app/services/db-monster.service.ts:211</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>public wrapper around getMonstersByIds() for retrieving one monster</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the searched monster</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Promise<Monster></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMonsters"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getMonsters
                        </b>
                        <a href="#getMonsters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMonsters(offset: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="237"
                            class="link-to-prism">src/app/services/db-monster.service.ts:237</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>public wrapper around getMonstersByIds() for retrieving one chunk monsters with size of LIMIT</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>offset</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>point where to start with ids</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>Promise<void></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMonstersByAttacke"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getMonstersByAttacke
                        </b>
                        <a href="#getMonstersByAttacke"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMonstersByAttacke(attId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="464"
                            class="link-to-prism">src/app/services/db-monster.service.ts:464</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get all monsters capable of an attack to attId</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the attack instance</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;Monster[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMonstersByIds"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                            getMonstersByIds
                        </b>
                        <a href="#getMonstersByIds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMonstersByIds(neededIds: number[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="152"
                            class="link-to-prism">src/app/services/db-monster.service.ts:152</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>only function to read monster entries from the db (and return found ones)</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>neededIds</td>
                                    <td>
                                            <code>number[]</code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <ul>
<li>look for monsters with folliwing IDs</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Observable&lt;Monster[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMonstersByList"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getMonstersByList
                        </b>
                        <a href="#getMonstersByList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMonstersByList(ids: number[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="226"
                            class="link-to-prism">src/app/services/db-monster.service.ts:226</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>public wrapper for function getMonstersByList()</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ids</td>
                                    <td>
                                            <code>number[]</code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>ids of monsters to be found</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Promise&lt;Monster[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPredecessors"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getPredecessors
                        </b>
                        <a href="#getPredecessors"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getPredecessors(monId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="551"
                            class="link-to-prism">src/app/services/db-monster.service.ts:551</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get all direct predecessors of monster with id monId</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                    <td>
                                        <p>id of the monster</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Promise&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Promise<Monster></p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="observeMonster"></a>
                    <span class="name">
                        <b>
                            observeMonster
                        </b>
                        <a href="#observeMonster"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>observeMonster()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="124"
                            class="link-to-prism">src/app/services/db-monster.service.ts:124</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get all filtered and newly loaded monsters from here</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Monster.html" target="_self" >Observable&lt;Monster[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>Observable&lt;Monster[]&gt;</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="typIcons"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            typIcons
                        </b>
                        <a href="#typIcons"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>typIcons(monId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="447"
                            class="link-to-prism">src/app/services/db-monster.service.ts:447</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get type icons as strings of monster with id monId (for rendering)</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>monId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;string[]&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>string[]</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateMonsters"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            updateMonsters
                        </b>
                        <a href="#updateMonsters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateMonsters(mons: <a href="../interfaces/Monster.html">Monster[]</a>, from_filter: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Definiert in <a href="" data-line="133"
                            class="link-to-prism">src/app/services/db-monster.service.ts:133</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>add input list of Ḿonsters to this.monsters, access changes through ovservable</p>
</div>

                    <div class="io-description">
                        <b>Parameter :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Beschreibung</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mons</td>
                                    <td>
                                                <code><a href="../interfaces/Monster.html" target="_self" >Monster[]</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>contains all monsters to be added</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>from_filter</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        Nein
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                    <td>
                                        <p>if true just set the atts-value, if false combine old with this new ones</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="allMonsters"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            allMonsters</b>
                            <a href="#allMonsters"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/Monster.html" target="_self" >BehaviorSubject&lt;Monster[]&gt;</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new BehaviorSubject([])</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="45" class="link-to-prism">src/app/services/db-monster.service.ts:45</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>stores all monster instances loaded sometime while the app is opened.
minimizes database access</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="db"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            db</b>
                            <a href="#db"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>SQLiteObject</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="23" class="link-to-prism">src/app/services/db-monster.service.ts:23</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>represents the actual database</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dbReady"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            dbReady</b>
                            <a href="#dbReady"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>BehaviorSubject&lt;boolean&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new BehaviorSubject(false)</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="27" class="link-to-prism">src/app/services/db-monster.service.ts:27</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>signal if this service is done initializing</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="lastMonster"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            lastMonster</b>
                            <a href="#lastMonster"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="40" class="link-to-prism">src/app/services/db-monster.service.ts:40</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>id of last monster loaded as bunch (due to infinite scroll)</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="LIMIT"></a>
                        <span class="name">
                            <b>
                            LIMIT</b>
                            <a href="#LIMIT"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>25</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="32" class="link-to-prism">src/app/services/db-monster.service.ts:32</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>amount of monsters loaded at max. at once</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="monsters"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            monsters</b>
                            <a href="#monsters"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/Monster.html" target="_self" >BehaviorSubject&lt;Monster[]&gt;</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new BehaviorSubject([])</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="49" class="link-to-prism">src/app/services/db-monster.service.ts:49</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>selection of allMonsters, may be a filtered subset. Publicised to subscriptors</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="NUM_MONSTER"></a>
                        <span class="name">
                            <b>
                            NUM_MONSTER</b>
                            <a href="#NUM_MONSTER"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="36" class="link-to-prism">src/app/services/db-monster.service.ts:36</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>total amount of all monsters (also unloaded ones)</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="typSearchList"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            typSearchList</b>
                            <a href="#typSearchList"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/Monster.html" target="_self" >Monster[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>null</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="58" class="link-to-prism">src/app/services/db-monster.service.ts:58</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>last known result of type search, is null if not searching</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="wordSearchList"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            wordSearchList</b>
                            <a href="#wordSearchList"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/Monster.html" target="_self" >Monster[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>null</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Definiert in <a href="" data-line="54" class="link-to-prism">src/app/services/db-monster.service.ts:54</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>last known result of word search, is null if not searching</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { BehaviorSubject, Observable } from &#x27;rxjs&#x27;;

import { SQLiteObject } from &#x27;@ionic-native/sqlite/ngx&#x27;;

import { DatabaseService } from &quot;./database.service&quot;;
import { MessageService } from &quot;./message.service&quot;;

import { Monster } from &quot;../interfaces/monster&quot;
import { DbTypenService } from &#x27;./db-typen.service&#x27;;

/**
 * db service for monsters and related topics
 */
@Injectable({
  providedIn: &#x27;root&#x27;
})
export class DbMonsterService {

	/**
	 * represents the actual database
	 */
	private db: SQLiteObject;
	/**
	 * signal if this service is done initializing
	 */
	private dbReady: BehaviorSubject&lt;boolean&gt; &#x3D; new BehaviorSubject(false);

	/**
	 * amount of monsters loaded at max. at once
	 */
	LIMIT: number &#x3D; 25;
	/**
	 * total amount of all monsters (also unloaded ones)
	 */
	NUM_MONSTER: number &#x3D; 0;
	/**
	 * id of last monster loaded as bunch (due to infinite scroll)
	 */
	private lastMonster: number &#x3D; 0;
	/**
	 * stores all monster instances loaded sometime while the app is opened.
	 * minimizes database access
	 */
	private allMonsters: BehaviorSubject&lt;Monster[]&gt; &#x3D; new BehaviorSubject([]);
	/**
	 * selection of allMonsters, may be a filtered subset. Publicised to subscriptors
	 */
	private monsters: BehaviorSubject&lt;Monster[]&gt; &#x3D; new BehaviorSubject([]);

	/**
	 * last known result of word search, is null if not searching
	 */
	private wordSearchList: Monster[] &#x3D; null;
	/**
	 * last known result of type search, is null if not searching
	 */
	private typSearchList: Monster[] &#x3D; null;

	/**
	 * initialize service
	 * @param databaseService main db service to retrieve the db
	 * @param messageService  to communicate to the user
	 * @param db_typen        db for typs
	 */
  constructor(private databaseService: DatabaseService,
							private messageService: MessageService,
							private db_typen: DbTypenService) {

		this.databaseService.getDatabaseState().subscribe(rdy &#x3D;&gt; {
			if (rdy) {
				// get db from DatabaseService
				this.db &#x3D; this.databaseService.getDatabase();
				if (!this.db) {
					this.messageService.error(&quot;Die Datenbank fehlt&quot;, &quot;in INIT MUSHROOM DB: got no db: &quot;, JSON.stringify(this.db));
				}

				// get number of monsters for NUM_MONSTER
				this.db.executeSql(&quot;SELECT COUNT(*) AS num FROM monster_monster&quot;, []).then(data &#x3D;&gt; {
					if (!data || !data.rows.length) {
						this.messageService.error(&quot;Konnte Anzahl der Monster nicht ermitteln&quot;);
					}
					this.NUM_MONSTER &#x3D; data.rows.item(0).num;

					// init allMonster
					let i &#x3D; 0;
					let emptyList &#x3D; [];
					while (i++ &lt; this.NUM_MONSTER) {emptyList.push(null);}
					this.allMonsters.next(emptyList);

					// handle update of monsters on change of allMonsters
					this.db_typen.getDatabaseState().subscribe(rdy &#x3D;&gt; {
						if (rdy) {
							// use allMonsters internal, monsters external
							this.allMonsters.asObservable().subscribe(mon &#x3D;&gt; {

								// if changes in &#x27;loaded&#x27; part occured
								if (this.monsters.getValue().length !&#x3D;&#x3D; this.lastMonster) {
									let mons &#x3D; mon.slice(0, this.lastMonster);
									this.monsters.next(mons);
								}
							});
							// set signal to be initialized
							this.dbReady.next(true);
						}
					});
				});
			}
		});
	}

	/**
	 * communicate if this service is done initializing
	 * @return Observable&lt;boolean&gt;
	 */
	getDatabaseState(): Observable&lt;boolean&gt; {
		return this.dbReady.asObservable();
	}

	/**
	 * get all filtered and newly loaded monsters from here
	 * @return Observable&lt;Monster[]&gt;
	 */
	observeMonster(): Observable&lt;Monster[]&gt; {
		return this.monsters.asObservable();
	}

	/**
	 * add input list of Ḿonsters to this.monsters, access changes through ovservable
	 * @param mons				contains all monsters to be added
	 * @param from_filter if true just set the atts-value, if false combine old with this new ones
	 */
	private updateMonsters(mons: Monster[], from_filter: boolean&#x3D;false): void {

		let allMons: Monster[] &#x3D; this.allMonsters.getValue();
		for (let i &#x3D; 0; i &lt; mons.length; i++) {
			allMons[mons[i].id-1] &#x3D; mons[i];
		}

		// filter is activated, ignore allMonsters
		if (from_filter) {this.monsters.next(mons); return;}

		// filter is not active, use allMonsters and lastMonster
		this.allMonsters.next(allMons);
	}

	/**
	 * only function to read monster entries from the db (and return found ones)
	 * @param  neededIds - look for monsters with folliwing IDs
	 * @return Observable&lt;Monster[]&gt;
	 */
	private async getMonstersByIds(neededIds: number[]): Promise&lt;Monster[]&gt; {

		// build query and values
		let query &#x3D; &#x60;SELECT * FROM monster_monster WHERE id IN (&#x60;;
		let values &#x3D; [];

		let prepopulatedMons: Monster[] &#x3D; [];

		let allMon &#x3D; this.allMonsters.getValue().slice();
		let tempMon;
		for (let i &#x3D; 0; i &lt; neededIds.length; i++) {
			// dont go over allMonster&#x27;s boundaries
			if (neededIds[i] &gt; this.NUM_MONSTER) {continue;}

			tempMon &#x3D; allMon[neededIds[i]-1];

			// if no information about monster in this.allMons, add to query
			if (tempMon &#x3D;&#x3D;&#x3D; null || tempMon.id &#x3D;&#x3D;&#x3D; 0) {
				query +&#x3D; &quot;?,&quot;;
				values.push(&#x60;${neededIds[i]}&#x60;);
			} else {
				prepopulatedMons.push(tempMon);
			}
		}

		// if all information already gathered, return it
		if (values.length &#x3D;&#x3D;&#x3D; 0) {return prepopulatedMons;}

		// exchange last comma with closing paenthesis
		query &#x3D; query.slice(0, -1) + &quot;)&quot;;

		return this.db.executeSql(query, values).then(async data &#x3D;&gt; {
			return this.dataToMonster(data).then(mons &#x3D;&gt; {

				if (mons &#x3D;&#x3D;&#x3D; null || mons &#x3D;&#x3D;&#x3D; []) {
					this.messageService.error(&quot;Konnte Monster nicht finden&quot;, &quot;in getMonsters: could not get monsters with ids &quot;, neededIds);
					return [];
				}

				// return rest prematurely, even though not all ids found (of course, if they do not exist!)
				if (neededIds[neededIds.length-1] &gt;&#x3D; this.NUM_MONSTER) {return mons;}

				if (mons.length !&#x3D; values.length) {
					this.messageService.alert(&quot;Nicht alle Monster gefunden&quot;, &quot;in GET MONSTER: could not get all monster with ids: &quot;, values, &quot; found: &quot;, this.databaseService.listIds(mons));
					return [];
				}

				// sort concatenated lists in place
				let returnList &#x3D; prepopulatedMons.concat(mons).sort(function(a, b) {return a.id &lt; b.id? -1 : 1;});
				return returnList;
			});
		});
  }

	/**
	 * public wrapper around getMonstersByIds() for retrieving one monster
	 * @param  id id of the searched monster
	 * @return Promise&lt;Monster&gt;
	 */
	async getMonster(id: number): Promise&lt;Monster&gt; {
		return this.getMonstersByIds([id]).then(mons &#x3D;&gt; {
			if (!(mons &amp;&amp; mons.length)) {
				this.messageService.error(&quot;Konnte Monster nicht finden&quot;, &quot;GET MONSTER: could not find monster with id&quot;, id);
				return this.defaultMonster();
			}
			return mons[0];
		});
	}

	/**
	 * public wrapper for function getMonstersByList()
	 * @param  ids ids of monsters to be found
	 * @return Promise&lt;Monster[]&gt;
	 */
	async getMonstersByList(ids: number[]): Promise&lt;Monster[]&gt; {
		return this.getMonstersByIds(ids).then(atts &#x3D;&gt; {
			return atts;
		});
	}

	/**
	 * public wrapper around getMonstersByIds() for retrieving one chunk monsters with size of LIMIT
	 * @param  offset point where to start with ids
	 * @return Promise&lt;void&gt;
	 */
	async getMonsters(offset: number): Promise&lt;void&gt; {

	// gather needed ids
		let idOffset &#x3D; offset+1;	// monster ids start at 1, not 0
		let neededList: number[] &#x3D; [];
		for (let i &#x3D; idOffset; i &lt; idOffset+this.LIMIT; i++) {neededList.push(i)}

		// recieve attacks and call updateMonsters() with them
		return this.getMonstersByIds(neededList).then(mon &#x3D;&gt; {
			this.lastMonster +&#x3D; mon.length;
			return this.updateMonsters(mon);
		});
	}

	/**
	 * filter monsters by name or id and store them in wordSearchList.
	 * If nameValue is empty, end the search
	 * @param  nameValue             substring of a monsters&#x27; name or an id
	 * @param  callCombineAfterwards if true combine search result with that of type search, if false not
	 * @return Promise&lt;void&gt;
	 */
	async findByWord(nameValue:string, callCombineAfterwards: boolean &#x3D; true): Promise&lt;void&gt; {

		// end search
		if (nameValue &#x3D;&#x3D;&#x3D; null || nameValue.length &#x3D;&#x3D;&#x3D; 0) {
			this.wordSearchList &#x3D; null;

			// this.lastMonster seems to be 25 too far, subtract from it beforehand
			this.lastMonster -&#x3D; this.LIMIT;
			if (callCombineAfterwards) {this.combineSearchLists();}
			return;
		}

		// construct query
		let mask &#x3D; &quot;%&quot;+nameValue+&quot;%&quot;;
		let query &#x3D; &#x60;SELECT * FROM monster_monster WHERE name LIKE ? OR id&#x3D;?&#x60;;

		// search monsters
		return this.db.executeSql(query, [mask, nameValue]).then(data &#x3D;&gt; {
			return this.dataToMonster(data).then(mons &#x3D;&gt; {

				// save result
				this.wordSearchList &#x3D; mons;
				if (callCombineAfterwards) {this.combineSearchLists();}
			});
		});
	}

	/**
	 * filter monsters by typs and store them in typSearchList.
	 * If typeIdList is empty, end the search
	 * @param  typeIdList            list of type ids
	 * @param  operandIsOr					 if true connect via OR (one type is sufficient), if false with AND (need all types)
	 * @param  callCombineAfterwards if true combine search result with that of word search, if false not
	 * @return Promise&lt;void&gt;
	 */
	async findByType(typeIdList: number[], operandIsOr: boolean, callCombineAfterwards: boolean &#x3D; true): Promise&lt;void&gt;  {

		// end search
		if (!typeIdList || typeIdList.length &#x3D;&#x3D;&#x3D; 0) {
			this.typSearchList &#x3D; null;
			if (callCombineAfterwards) {this.combineSearchLists()};
			return;
		}

		// construct query
		let query: string &#x3D; &quot;SELECT * FROM monster_monster WHERE id IN (SELECT a.monster_id FROM (SELECT monster_id, COUNT(*) AS num FROM monster_monster_typen WHERE typ_id IN (&quot;;
		let values &#x3D; [];
		let limit: number &#x3D; operandIsOr? 1 : typeIdList.length;

		for (let i &#x3D; 0; i &lt; typeIdList.length; i++) {
			values.push(&#x60;${typeIdList[i]}&#x60;);

			// if last, leave last operand (AND || OR) out
			if (i &#x3D;&#x3D; typeIdList.length - 1) {
				query +&#x3D; &#x60;?) GROUP BY monster_id) a WHERE a.num&gt;&#x3D;${limit})&#x60;;
				continue;
			}
			query +&#x3D; &quot;?,&quot;;
		}

		// excecute query
		return this.db.executeSql(query, values).then(data &#x3D;&gt; {

			return this.dataToMonster(data).then(mons &#x3D;&gt; {
				this.typSearchList &#x3D; mons;
				if (callCombineAfterwards) {this.combineSearchLists();}
			});
		}).catch(e &#x3D;&gt; {
				this.messageService.error(&quot;Konnte nicht nach Typen filtern&quot;, e);
		});
	}

	/**
	 * combine results from both filtering methods, use their intersection
	 * @return void
	 */
	combineSearchLists(): void {
		if (this.typSearchList &#x3D;&#x3D;&#x3D; null) {
			// no filter set, return to normality
			if (this.wordSearchList &#x3D;&#x3D;&#x3D; null) {this.getMonsters(this.lastMonster); return;}
			// only wordSearch set
			this.updateMonsters(this.wordSearchList, true); return;
		}

		// only type filter is set
		if (this.wordSearchList &#x3D;&#x3D;&#x3D; null) {this.updateMonsters(this.typSearchList, true); return;}

		// both filters set

		// prepare lists to sort on
		let wordIdList: number[] &#x3D; this.databaseService.listIds(this.wordSearchList);
		let typIdList: number[] &#x3D; this.databaseService.listIds(this.typSearchList);
		typIdList.sort((a, b) &#x3D;&gt; {return a-b});

		// collect intersection in this list
		let combinedList: Monster[] &#x3D; [];
		for (let i &#x3D; 0; i &lt; this.wordSearchList.length; i++) {
			if (typIdList.indexOf(wordIdList[i]) !&#x3D;&#x3D; -1) {combinedList.push(this.wordSearchList[i]);}
		}
		// set as filtered value via updateMonsters()
		this.updateMonsters(combinedList, true);
	}

	/**
	 * recieve ids of a monster&#x27;s attacks
	 * @param  monId a monster&#x27;s id to get attacks to
	 * @return Promise&lt;number&gt;
	 */
	private async getAttacken(monId: number): Promise&lt;number[]&gt; {

		let query &#x3D; &#x60;SELECT attacke_id FROM monster_monster_attacken WHERE monster_id&#x3D;?&#x60;;

		return this.db.executeSql(query, [&#x60;${monId}&#x60;]).then(data &#x3D;&gt; {
			let ids: number[] &#x3D; [];

			for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
					ids.push(data.rows.item(i).attacke_id);
			}
			return ids;
		}).catch(e &#x3D;&gt; {this.messageService.error(&quot;Konnte Attacken zu dem Monster nicht finden&quot;, e); return [];});
	}

	/**
	 * convert db data result from select query with monsters to list of monster instances
	 * @param  data db data
	 * @return Promise&lt;Monster[]&gt;
	 */
	private async dataToMonster(data): Promise&lt;Monster[]&gt; {

		let monsters: Monster[] &#x3D; [];
		let item;

		for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
			item &#x3D; data.rows.item(i);

			// get some fields from another db table, encapsulated in functions
			await Promise.all([
				this.getAttacken(item.id),
				this.db_typen.getMonsterTypen(item.id),
				this.getGegenteilmonster(item.id),
				this.getAehnlicheFormen(item.id)]).then(res &#x3D;&gt; {

				monsters.push({
					id: item.id,
					name: item.name,
					rang: item.rang,
					groesse: item.größe,
					gewicht: item.gewicht,
					hp: item.hp,
					habitat: item.habitat,
					schadensverhinderung: item.schadensverhinderung,
					beschreibung: item.beschreibung,
					gegenteilmonster: res[2],
					aehnlicheFormen: res[3],
					attacken: res[0],
					typen: res[1]
				});
			});
		}
		return monsters;
	}

	/**
	 * get dummy monster
	 * @return Monster
	 */
	defaultMonster(): Monster {
		return {
			id: 0,
			name: &quot;&quot;,
			rang: 0,
			groesse: 0,
			gewicht: 0,
			hp: 0,
			habitat: &quot;&quot;,
			schadensverhinderung: &quot;&quot;,
			beschreibung: &quot;&quot;,
			gegenteilmonster: [],
			aehnlicheFormen: [],
			attacken: [],
			typen: []
		}
	}

	/**
	 * get type icons as strings of monster with id monId (for rendering)
	 * @param  attId id of a monster instance
	 * @return string[]
	 */
	async typIcons(monId: number): Promise&lt;string[]&gt; {
		return this.getMonster(monId).then(mon &#x3D;&gt; {
			let icons: string[] &#x3D; [];

			// collect icon strings
			for (let i &#x3D; 0; i &lt; mon.typen.length; i++) {
				icons.push(mon.typen[i].icon);
			}
			return icons;
		});
	}

	/**
	 * get all monsters capable of an attack to attId
	 * @param  attId id of the attack instance
	 * @return Promise&lt;Monster[]&gt;
	 */
	async getMonstersByAttacke(attId: number): Promise&lt;Monster[]&gt; {

		let query &#x3D; &#x60;SELECT monster_id FROM monster_monster_attacken WHERE attacke_id&#x3D;?&#x60;;

		// get monster ids and gather them
		return this.db.executeSql(query, [&#x60;${attId}&#x60;]).then(data &#x3D;&gt; {
			let ids: number[] &#x3D; [];

			for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
					ids.push(data.rows.item(i).monster_id);
			}
			// get monsters from ids
			return this.getMonstersByIds(ids).then(mons &#x3D;&gt; {return mons});
		}).catch(e &#x3D;&gt; {this.messageService.error(&quot;Konnte Monster zu der Attacke nicht finden&quot;, e); return [];});
	}

	/**
	 * get all ids of monsters to which the monster with id monsId can change into by will
	 * @param  monsId id of the monster
	 * @return Promise&lt;number[]&gt;
	 */
	async getAehnlicheFormen(monsId: number): Promise&lt;number[]&gt; {
		return this.db.executeSql(&quot;SELECT mon_2 FROM monster_monster_verschFormen WHERE mon_1&#x3D;?&quot;, [&#x60;${monsId}&#x60;]).then(data &#x3D;&gt; {

			// collect ids
			let returnList: number[] &#x3D; [];
			for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
				returnList.push(data.rows.item(i).mon_2);
			}
			return returnList;
		}).catch(err &#x3D;&gt; {console.log(&quot;error loading aehnliche formen of&quot;, monsId, err); return [];});
	}

	/**
	 * get all ids of monsters to which the monster with id monsId poses the opposite
	 * @param  monsId id of the monster
	 * @return Promise&lt;number[]&gt;
	 */
	async getGegenteilmonster(monsId: number): Promise&lt;number[]&gt; {
		return this.db.executeSql(&quot;SELECT mon_2 FROM monster_gegenteilmonster WHERE mon_1&#x3D;?&quot;, [&#x60;${monsId}&#x60;]).then(data &#x3D;&gt; {

			// collect ids
			let returnList: number[] &#x3D; [];
			for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
				returnList.push(data.rows.item(i).mon_2);
			}
			return returnList;
		}).catch(err &#x3D;&gt; {console.log(&quot;error loading gegenteilmonster of&quot;, monsId, err); return [];});
	}

	/**
	 * get direct anchestors and predecessors of monster with id monId
	 * @param  monId id of the monster
	 * @return Promise&lt;Monster[][]&gt;  ( [[list of anchestors], [list of predecessors]]  )
	 */
	async getEvolution(monId: number): Promise&lt;Monster[][]&gt; {
		let anchestors &#x3D; await this.getAnchestors(monId);
		let predecessor &#x3D; await this.getPredecessors(monId);
		return [anchestors, predecessor];
	}

	/**
	 * get all direct ancestors to monster with id monId
	 * @param  monId id of the monster
	 * @return Promise&lt;Monster[]&gt;
	 */
	async getAnchestors(monId: number): Promise&lt;Monster[]&gt; {

		// look before (where b is monId, ...)
		let query: string &#x3D; &quot;SELECT vor FROM monster_evolution WHERE nach&#x3D;?&quot;;

		return this.db.executeSql(query, [&#x60;${monId}&#x60;]).then(data &#x3D;&gt; {
			let ids: number[] &#x3D; [];

			for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
				ids.push(data.rows.item(i).vor);
			}
			// get monsters to ids
			return this.getMonstersByIds(ids).then(mons &#x3D;&gt; {return mons});
		});
	}

	/**
	 * get all direct predecessors of monster with id monId
	 * @param  monId id of the monster
	 * @return Promise&lt;Monster&gt;
	 */
	async getPredecessors(monId: number): Promise&lt;Monster[]&gt; {

		// look after (where a is monId, ...)
		let query: string &#x3D; &quot;SELECT nach FROM monster_evolution WHERE vor&#x3D;?&quot;;

		return this.db.executeSql(query, [&#x60;${monId}&#x60;]).then(data &#x3D;&gt; {
			let ids: number[] &#x3D; [];

			for (let i &#x3D; 0; i &lt; data.rows.length; i++) {
				ids.push(data.rows.item(i).nach);
			}
			// get monsters to ids
			return this.getMonstersByIds(ids).then(mons &#x3D;&gt; {return mons});
		});
	}

	/**
	 * sort all monsters by their rang (asc or desc)
	 * @param  sortingIndex &#x3D;0, end sorting, &#x3D;1 asc, 0&quot; desc
	 * @return Promise&lt;void&gt;
	 */
	async getAllSortedByRang(sortingIndex: number): Promise&lt;void&gt; {
		if (sortingIndex &#x3D;&#x3D;&#x3D; 0) {return this.combineSearchLists();}

		// get sorting
		let query: string &#x3D; &quot;SELECT * FROM monster_monster ORDER BY rang &quot; + (sortingIndex &#x3D;&#x3D;&#x3D; 1? &quot;ASC&quot; : &quot;DESC&quot;);
		return this.db.executeSql(query, []).then(data &#x3D;&gt; {

			// get sorted monsters
			return this.dataToMonster(data).then(mons &#x3D;&gt; {

				// update them as filtered
				return this.updateMonsters(mons, true);
			});
		}).catch(err &#x3D;&gt; {console.log(&quot;rang sort:&quot;, query, err)})
	}
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">Kein passendes Ergebnis "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'DbMonsterService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
